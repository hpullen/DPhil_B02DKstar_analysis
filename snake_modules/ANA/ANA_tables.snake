# Tables for analysis note
rule ANA_tables:
    input:
        # BDT tables
        "/home/pullen/analysis/B02DKstar/ANA_resources/Tables/Selection/BDT/"
        "training_events.tex",

        # Efficiency tables
        "/home/pullen/analysis/B02DKstar/ANA_resources/Tables/Monte_carlo/selection_efficiency_run1.tex",
        "/home/pullen/analysis/B02DKstar/ANA_resources/Tables/Monte_carlo/selection_efficiency_run2.tex",
        "/home/pullen/analysis/B02DKstar/ANA_resources/Tables/Monte_carlo/selection_efficiency_Bs.tex",
        "/home/pullen/analysis/B02DKstar/ANA_resources/Tables/Backgrounds/gamma_vs_pi.tex",

        # Background mis-ID efficiency tables
        expand("/home/pullen/analysis/B02DKstar/ANA_resources/Tables/Backgrounds/double_misID/{mode}_{run_num}.tex",
               mode = ["Kpi", "Kpipipi"], run_num = ["run1", "run2"]),
        "/home/pullen/analysis/B02DKstar/ANA_resources/Tables/Backgrounds/rho_PID.tex",

        # MC fit parameters
        "/home/pullen/analysis/B02DKstar/ANA_resources/Tables/Fit_setup/signal_Bs_MC_params.tex",
        "/home/pullen/analysis/B02DKstar/ANA_resources/Tables/Fit_setup/signal_Kpi_MC_params.tex",
        "/home/pullen/analysis/B02DKstar/ANA_resources/Tables/Fit_setup/signal_Kpipipi_MC_params.tex",
        "/home/pullen/analysis/B02DKstar/ANA_resources/Tables/Fit_setup/rho_mc_params.tex",
        expand("/home/pullen/analysis/B02DKstar/ANA_resources/Tables/Fit_setup/low_mass_params{parent}.tex",
               parent = ["", "_Bs"]),
        "/home/pullen/analysis/B02DKstar/ANA_resources/Tables/Fit_setup/DKpipi_params.tex",
        "/home/pullen/analysis/B02DKstar/ANA_resources/Tables/Fit_setup/Values/n_params.tex",

        # Data fit results
        "/home/pullen/analysis/B02DKstar/ANA_resources/Tables/Data_fit/fit_result.tex",
        "/home/pullen/analysis/B02DKstar/ANA_resources/Tables/Data_fit/fit_result_combined.tex",
        expand("/home/pullen/analysis/B02DKstar/ANA_resources/Tables/Data_fit/yields_{bod}body_run{run_num}.tex",
               bod = ["2", "4"], run_num = ["1", "2"]),

        # Fitter bias
        "/home/pullen/analysis/B02DKstar/ANA_resources/Tables/Data_fit/biases.tex"

    output:
        "/home/pullen/analysis/B02DKstar/ANA_resources/.tables_up_to_date"
    shell:
        "date > /home/pullen/analysis/B02DKstar/ANA_resources/.tables_up_to_date"
